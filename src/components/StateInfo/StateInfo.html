<v-expansion-panels accordion focusable dark>
  <v-subheader light>{{getHeader()}}</v-subheader>

  <template v-if="newestStateData">
    <v-expansion-panel>
      <v-expansion-panel-header disable-icon-rotate expand-icon="mdi-counter">
        Statistics (State)</v-expansion-panel-header
      >
      <v-expansion-panel-content>
        <br />
        <p>
          Active cases: {{ Math.max(newestStateData.confirmed - newestStateData.deaths -
            newestStateData.recovered, 0) }}
        </p>
        <p>
          Confirmed cases: {{ newestStateData.confirmed }} (Infection rate of
          {{Math.round(newestStateData.confirmedRatio * 100) / 100}}%)
        </p>
        <p>
          Deaths: {{ newestStateData.deaths }} (Fatality rate of
          {{Math.round(newestStateData.deathsRatio * 100) / 100}}%)
        </p>
        <p>
          Recoveries: {{ newestStateData.recovered }} (Recovery rate of
          {{Math.round(newestStateData.recoveredRatio * 100) / 100}}%)
        </p>
      </v-expansion-panel-content>
    </v-expansion-panel>

    <v-expansion-panel class="hidden-md-and-down">
      <v-expansion-panel-header
        disable-icon-rotate
        expand-icon="mdi-chart-line"
      >
        History (State)</v-expansion-panel-header
      >
      <v-expansion-panel-content>
        <Chart
          :data="stateData"
          id="stateChart"
          :width="420"
          :height="200"
          :legendX="265"
          :legendY="55"
          :marginLeft="45"
          :marginRight="115"
          :showPercentages="showPercentages"
        />
      </v-expansion-panel-content>
    </v-expansion-panel>
  </template>

  <template v-if="newestCountryData">
    <v-expansion-panel>
      <v-expansion-panel-header disable-icon-rotate expand-icon="mdi-counter">
        {{state ? "Statistics (Country)" :
        "Statistics"}}</v-expansion-panel-header
      >
      <v-expansion-panel-content>
        <br />
        <template v-if="countryData">
          <p>
            Active cases: {{ Math.max(newestCountryData.confirmed - newestCountryData.deaths -
              newestCountryData.recovered, 0) }}
          </p>
          <p>
            Confirmed cases: {{ newestCountryData.confirmed }} (Infection rate of
            {{Math.round(newestCountryData.confirmedRatio * 100) / 100}}%)
          </p>
          <p>
            Deaths: {{ newestCountryData.deaths }} (Fatality rate of
            {{Math.round(newestCountryData.deathsRatio * 100) / 100}}%)
          </p>
          <p>
            Recoveries: {{ newestCountryData.recovered }} (Recovery rate of
            {{Math.round(newestCountryData.recoveredRatio * 100) / 100}}%)
          </p>
        </template>
      </v-expansion-panel-content>
    </v-expansion-panel>

    <v-expansion-panel class="hidden-md-and-down">
      <v-expansion-panel-header
        disable-icon-rotate
        expand-icon="mdi-chart-line"
      >
        {{state ? "History (Country)" : "History"}}</v-expansion-panel-header
      >
      <v-expansion-panel-content>
        <Chart
          :data="countryData"
          id="countryChart"
          :width="420"
          :height="200"
          :legendX="270"
          :legendY="55"
          :marginLeft="45"
          :marginRight="115"
          :showPercentages="showPercentages"
        />
      </v-expansion-panel-content>
    </v-expansion-panel>
  </template>

  <v-expansion-panel v-if="news.length">
    <v-expansion-panel-header
      disable-icon-rotate
      expand-icon="mdi-newspaper-variant"
    >
      News</v-expansion-panel-header
    >
    <v-expansion-panel-content>
      <News :news="news" height="20"
    /></v-expansion-panel-content>
  </v-expansion-panel>
</v-expansion-panels>
